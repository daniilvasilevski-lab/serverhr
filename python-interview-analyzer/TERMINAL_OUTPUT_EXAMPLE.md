# 🖥️ ПРИМЕР ВЫВОДА В ТЕРМИНАЛЕ

## Что вы увидите при работе сервера

Весь процесс работы сервера отображается в терминале в реальном времени с детальными статусами.

---

## 1️⃣ ЗАПУСК СЕРВЕРА

При запуске сервера вы увидите:

```
================================================================================
🚀 ЗАПУСК INTERVIEW ANALYZER v2.0
================================================================================
📋 Конфигурация:
   • Среда: PRODUCTION
   • Порт: 8000
   • Язык по умолчанию: ru
   • Whisper модель: base
   • Автообработка: ВКЛ
   • Интервал сканирования: 5 мин

🔧 Инициализация сервисов...
   [1/6] OpenAI клиент...
         ✅ OpenAI клиент готов
   [2/6] Интегрированный анализатор...
         ✅ Анализатор готов
   [3/6] Временной анализатор...
         ✅ Временной анализатор готов
   [4/6] CV и Questions анализаторы...
         ✅ CV и Questions анализаторы готовы
   [5/6] Google Sheets сервис...
         ✅ Google Sheets connection established
         ✅ Connected to source sheet: Interview Candidates
         ✅ Connected to results sheet: Interview Results
         ✅ Google Sheets подключен
   [6/6] Results Sheets сервис...
         ✅ Results Sheets подключен

✅ ВСЕ СЕРВИСЫ ИНИЦИАЛИЗИРОВАНЫ УСПЕШНО!
================================================================================
🌐 Сервер доступен: http://0.0.0.0:8000
📚 API документация: http://0.0.0.0:8000/docs
❤️ Health check: http://0.0.0.0:8000/health
================================================================================
⏳ Ожидание запросов...

INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

---

## 2️⃣ СКАНИРОВАНИЕ GOOGLE SHEETS

Каждые 5 минут (или при ручном запросе) система сканирует входную таблицу:

```
📊 Starting batch processing of 2 interviews...
📋 Found unprocessed interview: Иван Иванов (Row 2)
📋 Found unprocessed interview: Мария Петрова (Row 3)
✅ Found 2 unprocessed interviews
```

---

## 3️⃣ ОБРАБОТКА ИНТЕРВЬЮ (детальный процесс)

### Начало обработки кандидата

```
================================================================================
🎯 НАЧАЛО ОБРАБОТКИ КАНДИДАТА #1/2
👤 Имя: Иван Иванов
🆔 ID: CAND-001
📧 Email: ivan@example.com
🎥 Видео: https://example.com/videos/ivan_interview.mp4...
================================================================================
⏳ Запуск анализа интервью для Иван Иванов...
```

### Этапы анализа

```
🔬 НАЧАЛО ИНТЕГРИРОВАННОГО АНАЛИЗА для Иван Иванов

📋 Этап 1/4: Подготовка контекста интервью...
   ✓ Длительность: 300с
   ✓ Количество слов: 1543
   ✓ Доминирующая эмоция: happy
   ✓ Зрительный контакт: 75.2%

🤖 Этап 2/4: Холистический анализ через GPT-4...
   ✓ Комплексный анализ завершен

📊 Этап 3/4: Детальная оценка по 10 критериям...
   📌 Критерий 1/10: Коммуникативные навыки...
      ✓ Оценка: 8/10
   📌 Критерий 2/10: Мотивация к обучению...
      ✓ Оценка: 7/10
   📌 Критерий 3/10: Профессиональные навыки...
      ✓ Оценка: 6/10
   📌 Критерий 4/10: Аналитическое мышление...
      ✓ Оценка: 7/10
   📌 Критерий 5/10: Нестандартное мышление...
      ✓ Оценка: 7/10
   📌 Критерий 6/10: Командная работа...
      ✓ Оценка: 8/10
   📌 Критерий 7/10: Стрессоустойчивость...
      ✓ Оценка: 6/10
   📌 Критерий 8/10: Адаптивность...
      ✓ Оценка: 7/10
   📌 Критерий 9/10: Креативность и инновации...
      ✓ Оценка: 7/10
   📌 Критерий 10/10: Общее впечатление...
      ✓ Оценка: 7/10
   ✓ Все 10 критериев оценены

📝 Этап 4/4: Формирование итогового результата...
✅ АНАЛИЗ ЗАВЕРШЕН для Иван Иванов
```

### Сохранение результатов

```
✅ Анализ завершен успешно!
📊 Итоговая оценка: 72/100
💡 Рекомендация: Рекомендуется к найму

💾 Сохранение результатов в Google Sheets...
✅ Results saved for candidate: Иван Иванов (ID: CAND-001)

✏️ Отметка интервью как обработанного...
✅ Marked as processed: Иван Иванов (Row 2)

🎉 УСПЕШНО ОБРАБОТАН: Иван Иванов (1/2)
```

---

## 4️⃣ ОБРАБОТКА СЛЕДУЮЩЕГО КАНДИДАТА

Процесс повторяется для следующего кандидата:

```
================================================================================
🎯 НАЧАЛО ОБРАБОТКИ КАНДИДАТА #2/2
👤 Имя: Мария Петрова
🆔 ID: CAND-002
📧 Email: maria@example.com
🎥 Видео: https://example.com/videos/maria_interview.mp4...
================================================================================
⏳ Запуск анализа интервью для Мария Петрова...

🔬 НАЧАЛО ИНТЕГРИРОВАННОГО АНАЛИЗА для Мария Петрова
📋 Этап 1/4: Подготовка контекста интервью...
   ✓ Длительность: 420с
   ✓ Количество слов: 2134
   ✓ Доминирующая эмоция: confident
   ✓ Зрительный контакт: 82.5%

🤖 Этап 2/4: Холистический анализ через GPT-4...
   ✓ Комплексный анализ завершен

📊 Этап 3/4: Детальная оценка по 10 критериям...
   📌 Критерий 1/10: Коммуникативные навыки...
      ✓ Оценка: 9/10
   📌 Критерий 2/10: Мотивация к обучению...
      ✓ Оценка: 8/10
   ... (остальные критерии)
   ✓ Все 10 критериев оценены

📝 Этап 4/4: Формирование итогового результата...
✅ АНАЛИЗ ЗАВЕРШЕН для Мария Петрова

✅ Анализ завершен успешно!
📊 Итоговая оценка: 85/100
💡 Рекомендация: Сильный кандидат. Рекомендуется к найму

💾 Сохранение результатов в Google Sheets...
✅ Results saved for candidate: Мария Петрова (ID: CAND-002)

✏️ Отметка интервью как обработанного...
✅ Marked as processed: Мария Петрова (Row 3)

🎉 УСПЕШНО ОБРАБОТАН: Мария Петрова (2/2)
```

---

## 5️⃣ ИТОГОВЫЙ ОТЧЕТ

После обработки всех интервью:

```
╔══════════════════════════════════════╗
║     BATCH PROCESSING COMPLETED       ║
╠══════════════════════════════════════╣
║ Found:        2                      ║
║ Processed:    2                      ║
║ Saved:        2                      ║
║ Failed:       0                      ║
╚══════════════════════════════════════╝

INFO:     127.0.0.1:54321 - "POST /api/v1/sheets/process-all HTTP/1.1" 200 OK
```

---

## 6️⃣ ОБРАБОТКА ОШИБОК

Если возникает ошибка, вы увидите:

```
================================================================================
🎯 НАЧАЛО ОБРАБОТКИ КАНДИДАТА #3/3
👤 Имя: Петр Сидоров
🆔 ID: CAND-003
📧 Email: petr@example.com
🎥 Видео: https://example.com/videos/broken_link.mp4...
================================================================================
⏳ Запуск анализа интервью для Петр Сидоров...

❌ ОШИБКА АНАЛИЗА для: Петр Сидоров
❌ Error processing Петр Сидоров: Failed to download video: 404 Not Found
```

---

## 7️⃣ API ЗАПРОСЫ

Каждый API запрос логируется:

```
INFO:     127.0.0.1:54321 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54321 - "GET /criteria HTTP/1.1" 200 OK
INFO:     127.0.0.1:54321 - "POST /analyze HTTP/1.1" 200 OK
INFO:     127.0.0.1:54321 - "GET /api/v1/sheets/unprocessed HTTP/1.1" 200 OK
```

---

## 8️⃣ ОСТАНОВКА СЕРВЕРА

При остановке (Ctrl+C):

```

================================================================================
🛑 ОСТАНОВКА СЕРВЕРА
================================================================================
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1]
```

---

## 📊 КРАТКИЙ ПРИМЕР ПОЛНОГО ЦИКЛА

Вот как выглядит полный цикл от запуска до обработки:

```bash
$ docker-compose up

# Запуск
================================================================================
🚀 ЗАПУСК INTERVIEW ANALYZER v2.0
================================================================================
✅ ВСЕ СЕРВИСЫ ИНИЦИАЛИЗИРОВАНЫ УСПЕШНО!
⏳ Ожидание запросов...

# Обработка интервью
================================================================================
🎯 НАЧАЛО ОБРАБОТКИ КАНДИДАТА #1/1
👤 Имя: Иван Иванов
================================================================================
🔬 НАЧАЛО ИНТЕГРИРОВАННОГО АНАЛИЗА для Иван Иванов
📋 Этап 1/4: Подготовка контекста интервью...
   ✓ Все данные подготовлены
🤖 Этап 2/4: Холистический анализ через GPT-4...
   ✓ Комплексный анализ завершен
📊 Этап 3/4: Детальная оценка по 10 критериям...
   📌 Критерий 1/10: Коммуникативные навыки... ✓ Оценка: 8/10
   📌 Критерий 2/10: Мотивация к обучению... ✓ Оценка: 7/10
   ... (остальные 8 критериев)
📝 Этап 4/4: Формирование итогового результата...
✅ АНАЛИЗ ЗАВЕРШЕН для Иван Иванов

📊 Итоговая оценка: 72/100
💡 Рекомендация: Рекомендуется к найму
💾 Сохранение результатов в Google Sheets...
🎉 УСПЕШНО ОБРАБОТАН: Иван Иванов (1/1)

╔══════════════════════════════════════╗
║     BATCH PROCESSING COMPLETED       ║
╠══════════════════════════════════════╣
║ Found:        1                      ║
║ Processed:    1                      ║
║ Saved:        1                      ║
║ Failed:       0                      ║
╚══════════════════════════════════════╝
```

---

## 🎨 ЛЕГЕНДА ЭМОДЗИ

Для быстрого понимания статуса используются эмодзи:

| Эмодзи | Значение |
|--------|----------|
| 🚀 | Запуск системы |
| 📋 | Информация/конфигурация |
| 🔧 | Инициализация/настройка |
| ✅ | Успешное завершение |
| 🎯 | Начало обработки |
| 👤 | Информация о кандидате |
| 🆔 | ID кандидата |
| 📧 | Email |
| 🎥 | Видео URL |
| ⏳ | Процесс выполняется |
| 🔬 | Анализ |
| 🤖 | GPT-4 обработка |
| 📊 | Оценка/статистика |
| 📌 | Критерий оценки |
| 💡 | Рекомендация |
| 💾 | Сохранение данных |
| ✏️ | Обновление записи |
| 🎉 | Успешное завершение задачи |
| ❌ | Ошибка |
| 🛑 | Остановка |
| 🌐 | Сетевой адрес |
| 📚 | Документация |
| ❤️ | Health check |

---

## 💡 СОВЕТЫ ПО МОНИТОРИНГУ

### 1. Просмотр логов в реальном времени

```bash
# Docker
docker-compose logs -f app

# Только последние 100 строк
docker-compose logs --tail=100 -f app
```

### 2. Фильтрация логов

```bash
# Только успешные обработки
docker-compose logs app | grep "🎉 УСПЕШНО ОБРАБОТАН"

# Только ошибки
docker-compose logs app | grep "❌"

# Только оценки
docker-compose logs app | grep "📊 Итоговая оценка"
```

### 3. Сохранение логов в файл

```bash
# Сохранить все логи
docker-compose logs app > interview-analyzer.log

# Сохранить логи с отметкой времени
docker-compose logs -t app > interview-analyzer-timestamped.log
```

---

## 🔍 ОТЛАДКА

Если вы не видите детальных логов:

1. **Проверьте уровень логирования** в `.env`:
   ```env
   LOG_LEVEL=INFO  # или DEBUG для еще большей детализации
   ```

2. **Перезапустите контейнеры**:
   ```bash
   docker-compose restart app
   ```

3. **Проверьте настройки логирования** в `app/config/settings.py`

---

**Теперь вы полностью контролируете процесс обработки интервью прямо из терминала!** 🎯
